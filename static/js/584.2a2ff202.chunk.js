"use strict";(self.webpackChunkpost_management=self.webpackChunkpost_management||[]).push([[584,348],{1079:function(e,n,i){var t=i(1413),l=i(5987),a=i(7309),r=i(2791),s=i(184),o=["text","onClick","isDisabled","type","loading"],d=function(e){var n=e.text,i=void 0===n?"":n,r=e.onClick,d=e.isDisabled,u=void 0!==d&&d,c=e.type,f=void 0===c?"primary":c,h=e.loading,m=void 0!==h&&h,x=(0,l.Z)(e,o);return(0,s.jsx)(a.ZP,(0,t.Z)((0,t.Z)({type:f,loading:m,onClick:r,disabled:u},x),{},{children:i}))};n.Z=(0,r.memo)(d)},1742:function(e,n,i){var t=i(9439),l=i(2791),a=i(7027),r=i(9434),s=i(184);n.Z=function(){var e=(0,r.v9)((function(e){return e.uiReducer})).alert,n=e.type,i=e.message,o=a.ZP.useMessage(),d=(0,t.Z)(o,2),u=d[0],c=d[1];return(0,l.useEffect)((function(){"error"!==n&&"networkError"!==n||u.open({type:"error",content:i}),"success"===n&&u.open({type:"success",content:i})}),[alert]),(0,s.jsx)(s.Fragment,{children:c})}},348:function(e,n,i){i.r(n),i.d(n,{default:function(){return v}});var t=i(1413),l=i(9439),a=i(2791),r=i(177),s=i(7846),o=i(3099),d=i(914),u=i(6106),c=i(1079),f=i(5987),h=i(184),m=["placeholder","label","message","isRequired","name","error","prefix","value","disabled","rule","inputType","suffix"],x=function(e){var n=e.placeholder,i=e.label,l=e.message,a=e.isRequired,o=void 0===a||a,d=e.name,u=e.error,c=e.prefix,x=e.value,p=e.disabled,Z=void 0!==p&&p,g=e.rule,v=e.inputType,b=void 0===v?"text":v,j=e.suffix,k=(0,f.Z)(e,m);return(0,h.jsx)(s.Z.Item,(0,t.Z)((0,t.Z)({name:d,label:i,rules:[(0,t.Z)({required:o,message:l},g)],validateStatus:u?"error":"",help:u},k),{},{children:(0,h.jsx)(r.Z,{disabled:Z,"data-testid":d,value:null!==x&&void 0!==x?x:"",name:d,placeholder:n,prefix:c,type:b,suffix:j,style:{height:"40px"}})}))},p=(0,a.memo)(x),Z=r.Z.TextArea,g=function(e){var n=s.Z.useForm(),i=(0,l.Z)(n,1)[0],r=(0,a.useState)(!0),f=(0,l.Z)(r,2),m=f[0],x=f[1],g=e.postItem,v=e.handleSubmit,b=void 0===v?function(){}:v,j=e.isView,k=void 0!==j&&j;(0,a.useEffect)((function(){g&&i.setFieldsValue(g)}),[g]);var y=(0,a.useCallback)((function(){x(!1)}),[]),C=(0,a.useCallback)((function(){i.validateFields().then((function(e){var n=(0,t.Z)({},e);b(n)})).catch((function(e){e.errorFields.filter((function(e){return e.errors.length})).length}))}),[]);return(0,h.jsxs)(s.Z,{form:i,name:"form",layout:"vertical",onFinish:C,onFieldsChange:y,children:[(0,h.jsxs)(o.Z.Compact,{direction:k?"vertical":"horizontal",block:!0,children:[(0,h.jsx)(d.Z,{flex:"0 1 100%",style:{marginInline:5},children:(0,h.jsx)(p,{placeholder:"title",name:"title",label:"Title",message:"Title is required",disabled:k})}),(0,h.jsx)(d.Z,{flex:"0 1 100%",style:{marginInline:5},children:(0,h.jsx)(s.Z.Item,{name:"body",label:"Descriptions",rules:[{required:!0,message:"Descriptions is required"}],children:(0,h.jsx)(Z,{rows:4,disabled:k})})})]}),k?null:(0,h.jsx)(u.Z,{gutter:[10,10],align:"end",children:(0,h.jsx)(c.Z,{type:"primary",htmlType:"submit",text:"Submit",isDisabled:m})})]})},v=(0,a.memo)(g)},7266:function(e,n,i){var t=i(3655),l=i(6106),a=i(914),r=i(3099),s=i(177),o=i(2791),d=i(9372),u=i(7689),c=i(184),f=t.Z.Title,h=function(e){var n=e.handleChangeSearch,i=void 0===n?function(){}:n,t=e.title,o=e.hasBack,h=void 0!==o&&o,m=e.hasSearch,x=void 0!==m&&m,p=(0,u.s0)();return(0,c.jsxs)(l.Z,{align:"middle",justify:"space-between",style:{height:"62px"},children:[(0,c.jsx)(a.Z,{children:(0,c.jsxs)(r.Z,{children:[h?(0,c.jsx)(d.Z,{onClick:function(){return p(-1)}}):null,(0,c.jsx)(f,{level:4,style:{marginBlockEnd:0,marginInlineStart:10},children:t})]})}),x?(0,c.jsx)(a.Z,{children:(0,c.jsx)(s.Z,{placeholder:"Search for Posts",onChange:i})}):null]})};n.Z=(0,o.memo)(h)},2584:function(e,n,i){i.r(n),i.d(n,{default:function(){return M}});var t=i(3433),l=i(1413),a=i(9439),r=i(2791),s=i(9434),o=i(7689),d=i(8926),u=i(2556),c=i(8862),f=i(3655),h=i(737),m=i(6106),x=i(3099),p=i(43),Z=i(6387),g=[{title:"Title",dataIndex:"title",key:"title"},{title:"Descriptions",dataIndex:"body",key:"body"}],v=i(1079),b=i(1742),j=i(7266),k=i(5987),y=i(814),C=i(184),S=["isModalOpen","isLoading","handleCancel","handleSubmit","children","title","okText","danger","isDisabled"],w=h.Z.useToken,T=function(e){var n=e.isModalOpen,i=e.isLoading,t=e.handleCancel,a=e.handleSubmit,r=e.children,s=e.title,o=void 0===s?"":s,d=e.okText,u=e.danger,c=void 0!==u&&u,f=e.isDisabled,h=void 0!==f&&f,m=(0,k.Z)(e,S),x=w().token;return(0,C.jsx)(y.Z,(0,l.Z)((0,l.Z)({title:o,open:n,onOk:a,onCancel:t,okText:d,confirmLoading:i,maskClosable:!1,footer:d?[(0,C.jsx)(v.Z,{type:"default",bg:x.colorLight,onClick:t,text:"Cancel"},"back"),(0,C.jsx)(v.Z,{type:"primary",text:d,danger:c,loading:i,onClick:a,isDisabled:h},"submit")]:null},m),{},{children:r}))},O=i(348),D=f.Z.Text,L=(0,r.lazy)((function(){return Promise.all([i.e(662),i.e(189),i.e(282)]).then(i.bind(i,3282))})),I=h.Z.useToken,M=function(){var e=(0,o.s0)(),n=(0,s.v9)((function(e){return e.postsReducer})),i=n.data,f=n.isLoading,h=n.currentPage,k=n.searchTerm,y=n.deleteStatus,S=(0,s.v9)((function(e){return e.uiReducer})).alert.type,w=(0,s.I0)(),T=I().token.colorBgContainer,O=(0,r.useState)({isOpen:!1,id:null,item:null}),D=(0,a.Z)(O,2),M=D[0],P=D[1],q=(0,r.useCallback)((function(n){w((0,Z._9)(n)),e("/posts-management/post-details/".concat(n.id))}),[]),E=(0,r.useCallback)((function(e){P((function(n){return(0,l.Z)((0,l.Z)({},n),{},{isOpen:!n.isOpen,id:null===e||void 0===e?void 0:e.id})}))}),[]),R=(0,r.useCallback)((function(e){P((function(n){return{isOpen:!n.isOpen,id:null===e||void 0===e?void 0:e.id,item:e}}))}),[]),A=(0,r.useMemo)((function(){var e={title:"Action",key:"operation",fixed:"right",width:150,render:function(e){return(0,C.jsxs)(m.Z,{justify:"space-between",children:[(0,C.jsx)(v.Z,{className:"btn",type:"text",icon:(0,C.jsx)(d.Z,{}),onClick:function(){return R(e)}}),(0,C.jsx)(v.Z,{className:"btn",type:"text",icon:(0,C.jsx)(u.Z,{}),onClick:function(){return q(e)}}),(0,C.jsx)(v.Z,{className:"btn",type:"text",icon:(0,C.jsx)(c.Z,{}),danger:!0,onClick:function(){return E(e)}})]})}};return[].concat((0,t.Z)(g),[(0,l.Z)({},e)])}),[]);(0,r.useEffect)((function(){null!==i&&void 0!==i&&i.length||w((0,Z.T6)())}),[i]);var B=(0,r.useCallback)((function(e){w((0,Z.D4)(e))}),[w]),N=(0,r.useCallback)((function(e){w((0,Z.Cl)(e.target.value))}),[w]),V=function(){P({isOpen:!1,id:null,item:null})};(0,r.useEffect)((function(){"success"===y&&(V(),w((0,Z.w1)()))}),[y]);var _=(0,r.useMemo)((function(){return i.filter((function(e){return e.title.toLowerCase().includes(k.toLowerCase())}))}),[k,i]);return(0,C.jsxs)(x.Z,{direction:"vertical",style:{background:T,width:"100%"},children:[(0,C.jsx)(j.Z,{title:"Posts",hasSearch:!0,handleChangeSearch:N}),(0,C.jsx)(r.Suspense,{fallback:(0,C.jsx)(p.Z,{}),children:(0,C.jsx)(L,{data:_,columns:A,loading:f,getCurrentPage:B,currentPage:h,rowKey:"id"})}),S?(0,C.jsx)(b.Z,{}):null,(0,C.jsx)(F,{handleCancel:V,handleSubmit:function(){w((0,Z.RW)({id:M.id}))},showModal:M,isLoading:f,danger:!0})]})};function F(e){var n=e.handleCancel,i=e.handleSubmit,t=e.showModal,l=e.isLoading;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(T,{handleCancel:n,handleSubmit:i,isModalOpen:t.isOpen&&!t.item,okText:"Delete",isLoading:l,danger:!0,children:(0,C.jsx)(D,{children:"Are you sure, you want to delete this post?"})}),(0,C.jsx)(T,{handleCancel:n,handleSubmit:i,isModalOpen:t.isOpen&&!!t.item,isLoading:l,children:(0,C.jsx)(O.default,{postItem:null===t||void 0===t?void 0:t.item,isView:!0})})]})}}}]);
//# sourceMappingURL=584.2a2ff202.chunk.js.map